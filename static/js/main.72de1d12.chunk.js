(this.webpackJsonpcalender=this.webpackJsonpcalender||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(6),c=a.n(s),o=a(0),l=a(3),i=a(5),u=a.n(i),j=(a(12),a(13),["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]),b=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"];new Date,function(){var e=new Date;e.setDate(e.getDate()+4)}();var D=a(7),d=a(1);function O(e){return Array.isArray(e.event.category)?Object(d.jsxs)("div",{className:"post post_medium",children:[Object(d.jsx)("div",{className:"post__image-content",children:Object(d.jsx)("a",{href:e.event.permalink,children:Object(d.jsx)("img",{className:"post__image",src:e.event.image,"data-spai":"1",alt:"","data-spai-upd":"374"})})}),Object(d.jsxs)("div",{className:"post__content post__content_small post__content_high",children:[e.event.category.map((function(e,t){return Object(d.jsx)("a",{className:"link post__tag",href:"https://russoft.org/our-events/?events-cat=russoft-events",children:e.name},t)}))," ",Object(d.jsxs)("a",{href:e.event.permalink,className:"link post__name post__name_small",children:[e.event.title," "]}),Object(d.jsxs)("div",{className:"post__description",children:[e.event.short_description,'(" ")']}),Object(d.jsxs)("div",{className:"post__date",children:[Object(d.jsx)(D.a,{}),Object(d.jsxs)("span",{className:"post__time",children:[e.event.date," "]})]})]})]}):null}var f=function(){var e=r.a.useState({range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+31))},enteredTo:new Date((new Date).setDate((new Date).getDate()+31)),events:[],select:{type:"",period:"next-month"}}),t=Object(l.a)(e,2),a=t[0],s=t[1];function c(e,t,a){var n=e&&i.DateUtils.isDayBefore(a,e);return!e||n||e&&t}function D(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{range:{from:null,to:null},select:{type:"",period:""}})}))}Object(n.useEffect)((function(){!function(){var e=new URLSearchParams;e.append("from",a.range.from),e.append("to",a.range.to),fetch("https://russoft.org/wp-content/plugins/react-calendar/api.php?action=get_events&"+e).then((function(e){return e.json()})).then((function(e){console.log("fetch data: ",e),s((function(t){return Object(o.a)(Object(o.a)({},t),{},{events:e})}))}))}()}),[]);var f=a.range,w=a.enteredTo,p={before:new Date},g=[f.from,{from:f.from,to:w}],v=Object.entries(a.events).map((function(e,t){var n=Object(l.a)(e,2),r=(n[0],n[1]);return"russoft-events"===a.select.type&&Array.isArray(r.category)&&r.category.length>0&&"russoft-events"!==r.category[0].slug||"partners-events"===a.select.type&&Array.isArray(r.category)&&r.category.length>0&&"partners-events"!==r.category[0].slug?null:new Date(r.date)})),h={weekends:{daysOfWeek:[6,0]},start:f.from,end:f.to,highlighted:v},m=0,y=[];Object.entries(a.events).map((function(e,t){var n=Object(l.a)(e,2),r=(n[0],n[1]),s=new Date(r.date);(s>a.range.from&&s<a.range.to||null==a.range.from)&&(y.push(r),m++)})),y=y.filter((function(e){var t=e.category;switch(a.select.type){case"all-events":return!0;case"russoft-events":return Array.isArray(t)&&t.length>0&&"russoft-events"!==t[0].slug?(m--,!1):Array.isArray(t)?1:(m--,!1);case"partners-events":return Array.isArray(t)&&t.length>0&&"partners-events"!==t[0].slug?(m--,!1):Array.isArray(t)?1:(m--,!1);case"company-events":return Array.isArray(t)&&t.length>0&&"company-events"!==t[0].slug?(m--,!1):Array.isArray(t)?1:(m--,!1);default:return 1}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)})).reverse(),console.log("events",y);var x=y.map((function(e,t){return Object(d.jsx)(O,{event:e},t)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{className:"Range",numberOfMonths:2,firstDayOfWeek:1,fromMonth:f.from,selectedDays:g,disabledDays:p,modifiers:h,onDayClick:function(e){var t=a.range,n=t.from,r=t.to;n<r||n&&r&&e>=n&&e<=r?D():c(n,r,e)?s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date(e.setHours(0)),to:null},enteredTo:e,select:Object(o.a)(Object(o.a)({},t.select),{},{period:""})})})):s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:Object(o.a)(Object(o.a)({},t.range),{},{to:new Date(e.setHours(23,59,59))}),select:Object(o.a)(Object(o.a)({},t.select),{},{period:""}),enteredTo:e})}))},onDayMouseEnter:function(e){var t=a.range;c(t.from,t.to,e)||s((function(t){return Object(o.a)(Object(o.a)({},t),{},{enteredTo:e})}))},months:b,weekdaysShort:j}),Object(d.jsxs)("div",{className:"DayPicker-filter",children:[Object(d.jsxs)("div",{className:"DayPicker-filter__select",children:[Object(d.jsxs)("select",{value:a.select.type,onChange:function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{select:Object(o.a)(Object(o.a)({},t.select),{},{type:e.target.value})})}))},children:[Object(d.jsx)("option",{value:"all-events",children:"\u0412\u0441\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f"}),Object(d.jsx)("option",{value:"russoft-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0420\u0423\u0421\u0421\u041e\u0424\u0422"}),Object(d.jsx)("option",{value:"partners-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u043e\u0432"}),Object(d.jsx)("option",{value:"company-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"})]}),Object(d.jsxs)("select",{value:a.select.period,onChange:function(e){switch(e.target.value){case"all-period":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:null,to:null},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:null})}));break;case"next-week":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+7))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+7))})}));break;case"next-month":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+31))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+31))})}));break;case"next-half-year":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+180))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+180))})}));break;case"next-year":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+365))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+365))})}));break;case"last-week":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-7)),to:new Date((new Date).setHours(23,59))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date})}));break;case"last-month":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-30)),to:new Date((new Date).setHours(23,59))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date})}));break;case"last-half-year":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-182)),to:new Date((new Date).setHours(23,59))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date})}));break;case"last-year":s((function(t){return Object(o.a)(Object(o.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-365)),to:new Date((new Date).setHours(23,59))},select:Object(o.a)(Object(o.a)({},t),{},{period:e.target.value}),enteredTo:new Date})}))}},children:[Object(d.jsx)("option",{value:"all-period",children:"\u0417\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(d.jsx)("option",{value:"next-week",children:"\u041d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(d.jsx)("option",{value:"next-month",children:"\u041d\u0430 \u043c\u0435\u0441\u044f\u0446 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(d.jsx)("option",{value:"next-half-year",children:"\u041d\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(d.jsx)("option",{value:"next-year",children:"\u041d\u0430 \u0433\u043e\u0434 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(d.jsx)("option",{value:"last-week",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(d.jsx)("option",{value:"last-month",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(d.jsx)("option",{value:"last-half-year",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0435 \u043f\u043e\u043b\u0433\u043e\u0434\u0430"}),Object(d.jsx)("option",{value:"last-year",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u0433\u043e\u0434"})]})]}),Object(d.jsx)("div",{className:"DayPicker-filter__clear-button",children:Object(d.jsx)("button",{className:"link",onClick:D,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]}),Object(d.jsxs)("div",{className:"counter",children:[m," \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0439"]}),Object(d.jsx)("div",{className:"row row_flex",children:x})]})},w=document.getElementById("root");c.a.render(Object(d.jsx)(n.StrictMode,{children:Object(d.jsx)(f,{})}),w)}},[[15,1,2]]]);
//# sourceMappingURL=main.72de1d12.chunk.js.map